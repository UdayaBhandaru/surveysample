2019-07-26 15:57:22.941 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 15:57:24.813 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 15:57:24.813 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 15:57:24.814 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 15:57:24.814 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 15:57:24.814 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 15:57:25.113 +05:30 [DBG] Starting token cleanup
2019-07-26 15:57:30.579 +05:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-07-26 15:57:30.685 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 15:57:32.579 +05:30 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-26 15:57:33.044 +05:30 [DBG] Augmenting SignInContext
2019-07-26 15:57:33.063 +05:30 [DBG] Adding idp claim with value: local
2019-07-26 15:57:33.063 +05:30 [DBG] Adding amr claim with value: pwd
2019-07-26 15:57:33.064 +05:30 [DBG] Adding auth_time claim with value: 1564136853
2019-07-26 15:57:33.081 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-26 15:57:33.349 +05:30 [DBG] 1 persisted grants found for 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 15:57:35.231 +05:30 [DBG] angular found in database: true
2019-07-26 15:57:35.466 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 15:57:36.132 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 15:59:04.320 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 15:59:06.949 +05:30 [ERR] Failed executing DbCommand (528ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [users].[Email]
FROM [sec].[IDENTITYUSER] AS [users]
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
2019-07-26 15:59:07.013 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
2019-07-26 15:59:07.016 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
2019-07-26 15:59:09.566 +05:30 [ERR] Failed executing DbCommand (455ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [sec].[Clients] AS [c])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
2019-07-26 15:59:09.571 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
2019-07-26 15:59:09.580 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:1b9b03cf-7efb-49e5-83b9-fb6d27e0df1c
Error Number:208,State:1,Class:16
2019-07-26 15:59:20.038 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 15:59:22.104 +05:30 [ERR] Failed executing DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [users].[Email]
FROM [sec].[IDENTITYUSER] AS [users]
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
2019-07-26 15:59:22.146 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
2019-07-26 15:59:22.150 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.IDENTITYUSER'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
2019-07-26 15:59:23.460 +05:30 [ERR] Failed executing DbCommand (274ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [sec].[Clients] AS [c])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
2019-07-26 15:59:23.463 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
2019-07-26 15:59:23.473 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'sec.Clients'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.QueryMethodProvider.GetResult[TResult](IEnumerable`1 valueBuffers, Boolean throwOnNullResult)
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:0ebcf118-ce93-4050-8164-a10180ca77f3
Error Number:208,State:1,Class:16
2019-07-26 15:59:38.569 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 15:59:53.773 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 15:59:58.281 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 15:59:58.281 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 15:59:58.281 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 15:59:58.281 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 15:59:58.281 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 15:59:58.454 +05:30 [DBG] Starting token cleanup
2019-07-26 16:00:02.028 +05:30 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-07-26 16:00:02.126 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:00:03.818 +05:30 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-26 16:00:04.626 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: user
   at Microsoft.AspNetCore.Identity.SignInManager`1.CheckPasswordSignInAsync(TUser user, String password, Boolean lockoutOnFailure)
   at IdentityServer4.Quickstart.UI.AccountController.Login(LoginInputModel model, String button) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-26 16:03:40.644 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 16:03:45.081 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 16:03:45.081 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 16:03:45.081 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 16:03:45.082 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 16:03:45.082 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 16:03:45.415 +05:30 [DBG] Starting token cleanup
2019-07-26 16:05:02.466 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:05:02.495 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:05:02.496 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:05:02.502 +05:30 [DBG] Start authorize request
2019-07-26 16:05:02.520 +05:30 [DBG] No user present in authorize request
2019-07-26 16:05:02.549 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:05:07.382 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:05:07.401 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:05:07.404 +05:30 [DBG] No PKCE used.
2019-07-26 16:05:08.854 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:05:11.897 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:05:13.559 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:05:15.656 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:05:15.669 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:05:15.743 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:05:15.753 +05:30 [INF] Showing login: User is not authenticated
2019-07-26 16:05:15.907 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:05:15.932 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:05:20.885 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:05:20.886 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:05:20.886 +05:30 [DBG] No PKCE used.
2019-07-26 16:05:22.040 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:05:25.614 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:05:26.529 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:05:28.454 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:05:28.454 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:05:33.248 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:05:33.440 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer4.Quickstart.UI.AccountController.BuildLoginViewModelAsync(String returnUrl) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 334
   at IdentityServer4.Quickstart.UI.AccountController.Login(String returnUrl) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 66
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-26 16:05:43.412 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:05:43.415 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:05:43.416 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:05:43.416 +05:30 [DBG] Start authorize request
2019-07-26 16:05:43.416 +05:30 [DBG] No user present in authorize request
2019-07-26 16:05:43.416 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:05:47.009 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:05:47.009 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:05:47.009 +05:30 [DBG] No PKCE used.
2019-07-26 16:05:47.651 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:05:49.967 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:05:50.627 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:05:52.446 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:05:52.447 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:05:52.447 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:05:52.447 +05:30 [INF] Showing login: User is not authenticated
2019-07-26 16:05:52.528 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:05:52.529 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:05:57.650 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:05:57.650 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:05:57.650 +05:30 [DBG] No PKCE used.
2019-07-26 16:05:59.278 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:06:01.398 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:06:02.361 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:06:05.220 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:06:05.220 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:06:09.302 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:06:09.558 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer4.Quickstart.UI.AccountController.BuildLoginViewModelAsync(String returnUrl) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 334
   at IdentityServer4.Quickstart.UI.AccountController.Login(String returnUrl) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 66
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-26 16:06:33.735 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 16:06:41.712 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 16:06:45.354 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 16:06:45.354 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 16:06:45.354 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 16:06:45.354 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 16:06:45.354 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 16:06:45.461 +05:30 [DBG] Starting token cleanup
2019-07-26 16:06:45.794 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:06:45.808 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:06:45.808 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:06:45.814 +05:30 [DBG] Start authorize request
2019-07-26 16:06:45.824 +05:30 [DBG] No user present in authorize request
2019-07-26 16:06:45.834 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:06:49.830 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:06:49.841 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:06:49.843 +05:30 [DBG] No PKCE used.
2019-07-26 16:06:50.619 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:06:52.339 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:06:52.943 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:06:54.529 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:06:54.553 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:06:54.601 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:06:54.613 +05:30 [INF] Showing login: User is not authenticated
2019-07-26 16:06:54.697 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:06:54.717 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:06:58.050 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:06:58.051 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:06:58.051 +05:30 [DBG] No PKCE used.
2019-07-26 16:06:58.689 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:07:00.287 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:07:00.929 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:07:02.529 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:07:02.529 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:07:05.728 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:07:05.731 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer4.Quickstart.UI.AccountController.BuildLoginViewModelAsync(String returnUrl) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 334
   at IdentityServer4.Quickstart.UI.AccountController.Login(String returnUrl) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 66
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-26 16:07:46.039 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 16:07:50.443 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 16:07:50.444 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 16:07:50.444 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 16:07:50.444 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 16:07:50.444 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 16:07:50.679 +05:30 [DBG] Starting token cleanup
2019-07-26 16:07:51.259 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:07:51.293 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:07:51.293 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:07:51.315 +05:30 [DBG] Start authorize request
2019-07-26 16:07:51.338 +05:30 [DBG] No user present in authorize request
2019-07-26 16:07:51.369 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:07:56.728 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:07:56.737 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:07:56.739 +05:30 [DBG] No PKCE used.
2019-07-26 16:07:57.595 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:08:00.516 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:08:01.416 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:08:03.659 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:08:03.675 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:08:03.765 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:08:03.779 +05:30 [INF] Showing login: User is not authenticated
2019-07-26 16:08:03.909 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:08:06.743 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:08:11.012 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:08:11.012 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:08:11.012 +05:30 [DBG] No PKCE used.
2019-07-26 16:08:11.708 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:08:13.927 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:08:14.802 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:08:16.448 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:08:16.448 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:08:31.809 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:08:50.573 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at IdentityServer4.Quickstart.UI.AccountController.BuildLoginViewModelAsync(String returnUrl) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 334
   at IdentityServer4.Quickstart.UI.AccountController.Login(String returnUrl) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\AccountController.cs:line 66
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-26 16:10:06.048 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 16:10:10.882 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 16:10:10.882 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 16:10:10.882 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 16:10:10.882 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 16:10:10.882 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 16:10:11.165 +05:30 [DBG] Starting token cleanup
2019-07-26 16:10:17.333 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:10:17.364 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:10:17.364 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:10:17.370 +05:30 [DBG] Start authorize request
2019-07-26 16:10:17.384 +05:30 [DBG] No user present in authorize request
2019-07-26 16:10:17.409 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:10:22.342 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:10:22.354 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:10:22.356 +05:30 [DBG] No PKCE used.
2019-07-26 16:10:23.202 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:10:25.512 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:10:26.369 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:10:28.284 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:10:28.295 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:10:28.368 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:10:28.380 +05:30 [INF] Showing login: User is not authenticated
2019-07-26 16:10:28.474 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:10:31.986 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:10:37.570 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:10:37.570 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:10:37.570 +05:30 [DBG] No PKCE used.
2019-07-26 16:10:38.529 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:10:40.773 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:10:41.732 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:10:44.610 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:10:44.611 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:10:49.706 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:10:49.935 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: source
   at System.Linq.Enumerable.Where[TSource](IEnumerable`1 source, Func`2 predicate)
   at IdentityServer4.Quickstart.UI.LoginViewModel.get_VisibleExternalProviders() in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Quickstart\Account\LoginViewModel.cs:line 17
   at AspNetCore.Views_Account_Login.ExecuteAsync() in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Views\Account\Login.cshtml:line 61
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 72
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-26 16:13:54.285 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 16:13:58.781 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 16:13:58.782 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 16:13:58.782 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 16:13:58.782 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 16:13:58.782 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 16:13:58.976 +05:30 [DBG] Starting token cleanup
2019-07-26 16:14:07.573 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:14:07.602 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:14:07.602 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:14:07.607 +05:30 [DBG] Start authorize request
2019-07-26 16:14:07.625 +05:30 [DBG] No user present in authorize request
2019-07-26 16:14:07.656 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:14:13.168 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:14:13.184 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:14:13.187 +05:30 [DBG] No PKCE used.
2019-07-26 16:14:14.154 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:14:16.241 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:14:17.108 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:14:18.821 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:14:18.831 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:14:18.908 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:14:18.929 +05:30 [INF] Showing login: User is not authenticated
2019-07-26 16:14:19.038 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:14:19.052 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:14:22.875 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:14:22.875 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:14:22.875 +05:30 [DBG] No PKCE used.
2019-07-26 16:14:23.643 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:14:25.650 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:14:26.402 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:14:28.757 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:14:28.757 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:14:32.729 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:14:45.696 +05:30 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-26 16:14:46.333 +05:30 [DBG] Augmenting SignInContext
2019-07-26 16:14:46.336 +05:30 [DBG] Adding idp claim with value: local
2019-07-26 16:14:46.337 +05:30 [DBG] Adding amr claim with value: pwd
2019-07-26 16:14:46.337 +05:30 [DBG] Adding auth_time claim with value: 1564137886
2019-07-26 16:14:46.347 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-26 16:14:46.380 +05:30 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-26 16:14:46.381 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-26 16:14:46.381 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-26 16:14:46.386 +05:30 [DBG] Start authorize callback request
2019-07-26 16:14:46.391 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:14:46.391 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:14:50.057 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:14:50.057 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:14:50.057 +05:30 [DBG] No PKCE used.
2019-07-26 16:14:50.720 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:14:52.628 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:14:53.445 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:14:55.182 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:14:55.183 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:14:55.183 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "c3347cf40de57da9146af74e67b831ca",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:14:56.027 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:14:56.041 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:14:56.054 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:14:56.561 +05:30 [DBG] mCa70rjkTzQz9zReZTbhlR6lkqzNaHTzgkkWxKG6SXk= not found in database
2019-07-26 16:14:57.597 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:14:57.622 +05:30 [DBG] Augmenting SignInContext
2019-07-26 16:14:57.622 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-26 16:14:57.761 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:14:57.775 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:14:57.775 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:14:57.801 +05:30 [DBG] Start token request.
2019-07-26 16:14:57.813 +05:30 [DBG] Start client validation
2019-07-26 16:14:57.826 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:14:57.835 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:14:57.836 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:14:57.836 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:15:01.649 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:15:01.664 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:15:01.664 +05:30 [DBG] Client validation success
2019-07-26 16:15:01.672 +05:30 [DBG] Start token request validation
2019-07-26 16:15:01.685 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:15:02.050 +05:30 [DBG] mCa70rjkTzQz9zReZTbhlR6lkqzNaHTzgkkWxKG6SXk= found in database: true
2019-07-26 16:15:02.534 +05:30 [DBG] removing mCa70rjkTzQz9zReZTbhlR6lkqzNaHTzgkkWxKG6SXk= persisted grant from database
2019-07-26 16:15:03.852 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:15:03.861 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "9075da00f5d552339d79d4abc491eea56e9db6bc57ad7564c6f28ba8a8feef4f",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "9075da00f5d552339d79d4abc491eea56e9db6bc57ad7564c6f28ba8a8feef4f"
  }
}
2019-07-26 16:15:06.152 +05:30 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-26 16:15:08.184 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:15:08.933 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:15:10.849 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:15:10.861 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:15:10.862 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:15:14.318 +05:30 [ERR] Failed executing DbCommand (344ms) [Parameters=[@__emailId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[CreatedBy], [x].[CreatedDate], [x].[DeletedInd], [x].[EmailAddress], [x].[FirstName], [x].[LastName], [x].[ModifiedBy], [x].[ModifiedDate], [x].[OrganizationId], [x].[StateId], [x].[TenantId], [x].[UserProfileId]
FROM [dbo].[UserProfile] AS [x]
WHERE [x].[EmailAddress] = @__emailId_0
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:15:14.360 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:15:14.364 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:15:14.566 +05:30 [FTL] Unhandled exception: Invalid object name 'dbo.UserProfile'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at Identity.Service.Data.UserRepository.GetUserProfile(String emailId) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Data\UserRepository.cs:line 20
   at Identity.Service.Services.AspNetIdentityProfileService.GetAuthenticationUserClaims(IdentityUser user) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 118
   at Identity.Service.Services.AspNetIdentityProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 71
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, Resources resources, ValidatedRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultClaimsService.cs:line 200
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultTokenService.cs:line 159
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 312
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 133
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 98
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:15:26.763 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:15:26.764 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:15:26.764 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:15:26.765 +05:30 [DBG] Start authorize request
2019-07-26 16:15:26.765 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:15:26.765 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:15:30.283 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:15:30.283 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:15:30.283 +05:30 [DBG] No PKCE used.
2019-07-26 16:15:31.025 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:15:32.807 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:15:33.566 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:15:35.161 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:15:35.161 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:15:35.161 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "c3347cf40de57da9146af74e67b831ca",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:15:36.295 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:15:36.299 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:15:36.299 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:15:36.988 +05:30 [DBG] QEHxlo7sXz9LfJsrwIK3POrRQ6Gow2lRkhBjr6THhGc= not found in database
2019-07-26 16:15:38.084 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:15:38.115 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:15:38.116 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:15:38.117 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:15:38.117 +05:30 [DBG] Start token request.
2019-07-26 16:15:38.117 +05:30 [DBG] Start client validation
2019-07-26 16:15:38.117 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:15:38.117 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:15:38.118 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:15:38.118 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:15:43.005 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:15:43.006 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:15:43.006 +05:30 [DBG] Client validation success
2019-07-26 16:15:43.006 +05:30 [DBG] Start token request validation
2019-07-26 16:15:43.006 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:15:43.383 +05:30 [DBG] QEHxlo7sXz9LfJsrwIK3POrRQ6Gow2lRkhBjr6THhGc= found in database: true
2019-07-26 16:15:43.759 +05:30 [DBG] removing QEHxlo7sXz9LfJsrwIK3POrRQ6Gow2lRkhBjr6THhGc= persisted grant from database
2019-07-26 16:15:45.199 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:15:45.199 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "6d737c9d2b81e30dddd7db29cf1f1dbdba458dcc1481ffb22b99efa3a149ee37",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "6d737c9d2b81e30dddd7db29cf1f1dbdba458dcc1481ffb22b99efa3a149ee37"
  }
}
2019-07-26 16:15:49.052 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:15:49.891 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:15:51.828 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:15:51.828 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:15:51.828 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:15:52.209 +05:30 [ERR] Failed executing DbCommand (380ms) [Parameters=[@__emailId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[CreatedBy], [x].[CreatedDate], [x].[DeletedInd], [x].[EmailAddress], [x].[FirstName], [x].[LastName], [x].[ModifiedBy], [x].[ModifiedDate], [x].[OrganizationId], [x].[StateId], [x].[TenantId], [x].[UserProfileId]
FROM [dbo].[UserProfile] AS [x]
WHERE [x].[EmailAddress] = @__emailId_0
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:15:52.213 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:15:52.219 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:15:52.368 +05:30 [FTL] Unhandled exception: Invalid object name 'dbo.UserProfile'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at Identity.Service.Data.UserRepository.GetUserProfile(String emailId) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Data\UserRepository.cs:line 20
   at Identity.Service.Services.AspNetIdentityProfileService.GetAuthenticationUserClaims(IdentityUser user) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 118
   at Identity.Service.Services.AspNetIdentityProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 71
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, Resources resources, ValidatedRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultClaimsService.cs:line 200
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultTokenService.cs:line 159
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 312
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 133
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 98
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:15:53.128 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:15:53.130 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:15:53.130 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:15:53.131 +05:30 [DBG] Start authorize request
2019-07-26 16:15:53.131 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:15:53.131 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:15:56.641 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:15:56.641 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:15:56.642 +05:30 [DBG] No PKCE used.
2019-07-26 16:15:57.425 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:15:59.199 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:15:59.990 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:16:01.936 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:16:01.936 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:16:01.937 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "c3347cf40de57da9146af74e67b831ca",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:16:02.985 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:16:02.991 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:16:02.991 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:16:03.349 +05:30 [DBG] 5PvAqJ7V8tI6M8UGH71FS2dk9q/fGHvmJj8JX3Uf9lw= not found in database
2019-07-26 16:16:04.496 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:16:04.509 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:16:04.509 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:16:04.509 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:16:04.509 +05:30 [DBG] Start token request.
2019-07-26 16:16:04.509 +05:30 [DBG] Start client validation
2019-07-26 16:16:04.509 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:16:04.509 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:16:04.510 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:16:04.511 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:16:08.376 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:16:08.376 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:16:08.377 +05:30 [DBG] Client validation success
2019-07-26 16:16:08.377 +05:30 [DBG] Start token request validation
2019-07-26 16:16:08.377 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:16:08.771 +05:30 [DBG] 5PvAqJ7V8tI6M8UGH71FS2dk9q/fGHvmJj8JX3Uf9lw= found in database: true
2019-07-26 16:16:09.332 +05:30 [DBG] removing 5PvAqJ7V8tI6M8UGH71FS2dk9q/fGHvmJj8JX3Uf9lw= persisted grant from database
2019-07-26 16:16:10.691 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:16:10.691 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "55a45870de0211de90018713ff033a8a7b0b06f86ed5aa3167404857b76b40f3",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "55a45870de0211de90018713ff033a8a7b0b06f86ed5aa3167404857b76b40f3"
  }
}
2019-07-26 16:16:15.670 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:16:16.773 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:16:18.877 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:16:18.877 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:16:18.877 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:16:19.211 +05:30 [ERR] Failed executing DbCommand (333ms) [Parameters=[@__emailId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[CreatedBy], [x].[CreatedDate], [x].[DeletedInd], [x].[EmailAddress], [x].[FirstName], [x].[LastName], [x].[ModifiedBy], [x].[ModifiedDate], [x].[OrganizationId], [x].[StateId], [x].[TenantId], [x].[UserProfileId]
FROM [dbo].[UserProfile] AS [x]
WHERE [x].[EmailAddress] = @__emailId_0
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:16:19.215 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:16:19.226 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:16:19.390 +05:30 [FTL] Unhandled exception: Invalid object name 'dbo.UserProfile'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at Identity.Service.Data.UserRepository.GetUserProfile(String emailId) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Data\UserRepository.cs:line 20
   at Identity.Service.Services.AspNetIdentityProfileService.GetAuthenticationUserClaims(IdentityUser user) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 118
   at Identity.Service.Services.AspNetIdentityProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 71
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, Resources resources, ValidatedRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultClaimsService.cs:line 200
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultTokenService.cs:line 159
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 312
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 133
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 98
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:16:20.308 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:16:20.308 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:16:20.309 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:16:20.309 +05:30 [DBG] Start authorize request
2019-07-26 16:16:20.309 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:16:20.309 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:16:24.459 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:16:24.459 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:16:24.459 +05:30 [DBG] No PKCE used.
2019-07-26 16:16:25.099 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:16:27.020 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:16:27.653 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:16:29.892 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:16:29.892 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:16:29.893 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "c3347cf40de57da9146af74e67b831ca",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:16:31.170 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:16:31.175 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:16:31.175 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:16:31.810 +05:30 [DBG] Yu8w++dLE/djSYlEhLzho92dkFxbvppTSiCsiIwN168= not found in database
2019-07-26 16:16:32.759 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:16:32.766 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:16:32.767 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:16:32.767 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:16:32.767 +05:30 [DBG] Start token request.
2019-07-26 16:16:32.767 +05:30 [DBG] Start client validation
2019-07-26 16:16:32.767 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:16:32.768 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:16:32.769 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:16:32.769 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:16:36.310 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:16:36.310 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:16:36.311 +05:30 [DBG] Client validation success
2019-07-26 16:16:36.311 +05:30 [DBG] Start token request validation
2019-07-26 16:16:36.311 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:16:36.631 +05:30 [DBG] Yu8w++dLE/djSYlEhLzho92dkFxbvppTSiCsiIwN168= found in database: true
2019-07-26 16:16:36.970 +05:30 [DBG] removing Yu8w++dLE/djSYlEhLzho92dkFxbvppTSiCsiIwN168= persisted grant from database
2019-07-26 16:16:38.567 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:16:38.568 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "61818ae5843c4a02e0d9116cc94960e777b9dd0c894fb22119a6e3e1b349c135",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "61818ae5843c4a02e0d9116cc94960e777b9dd0c894fb22119a6e3e1b349c135"
  }
}
2019-07-26 16:16:43.651 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:16:44.611 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:16:46.459 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:16:46.460 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:16:46.460 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:16:46.822 +05:30 [ERR] Failed executing DbCommand (362ms) [Parameters=[@__emailId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[CreatedBy], [x].[CreatedDate], [x].[DeletedInd], [x].[EmailAddress], [x].[FirstName], [x].[LastName], [x].[ModifiedBy], [x].[ModifiedDate], [x].[OrganizationId], [x].[StateId], [x].[TenantId], [x].[UserProfileId]
FROM [dbo].[UserProfile] AS [x]
WHERE [x].[EmailAddress] = @__emailId_0
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:16:46.826 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:16:46.833 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:16:46.999 +05:30 [FTL] Unhandled exception: Invalid object name 'dbo.UserProfile'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at Identity.Service.Data.UserRepository.GetUserProfile(String emailId) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Data\UserRepository.cs:line 20
   at Identity.Service.Services.AspNetIdentityProfileService.GetAuthenticationUserClaims(IdentityUser user) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 118
   at Identity.Service.Services.AspNetIdentityProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 71
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, Resources resources, ValidatedRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultClaimsService.cs:line 200
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultTokenService.cs:line 159
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 312
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 133
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 98
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:16:47.692 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:16:47.692 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:16:47.693 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:16:47.693 +05:30 [DBG] Start authorize request
2019-07-26 16:16:47.693 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:16:47.693 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:16:52.291 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:16:52.291 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:16:52.291 +05:30 [DBG] No PKCE used.
2019-07-26 16:16:52.949 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:16:54.803 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:16:55.487 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:16:58.740 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:16:58.740 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:16:58.741 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "c3347cf40de57da9146af74e67b831ca",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:16:59.533 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:16:59.538 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:16:59.538 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:16:59.919 +05:30 [DBG] nx/a9TyeQM6YD7YMwZqm0EIpkM1x1ptTI5HMQJz/iqQ= not found in database
2019-07-26 16:17:01.230 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:17:01.237 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:17:01.238 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:17:01.238 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:17:01.238 +05:30 [DBG] Start token request.
2019-07-26 16:17:01.238 +05:30 [DBG] Start client validation
2019-07-26 16:17:01.239 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:17:01.239 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:17:01.239 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:17:01.239 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:17:05.263 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:17:05.264 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:17:05.264 +05:30 [DBG] Client validation success
2019-07-26 16:17:05.264 +05:30 [DBG] Start token request validation
2019-07-26 16:17:05.264 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:17:05.604 +05:30 [DBG] nx/a9TyeQM6YD7YMwZqm0EIpkM1x1ptTI5HMQJz/iqQ= found in database: true
2019-07-26 16:17:06.343 +05:30 [DBG] removing nx/a9TyeQM6YD7YMwZqm0EIpkM1x1ptTI5HMQJz/iqQ= persisted grant from database
2019-07-26 16:17:07.876 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:17:07.877 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "6160879a2b519f1e8eceb0b9ff18ba0139979f43b6aedff7dc896447923c7f42",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "6160879a2b519f1e8eceb0b9ff18ba0139979f43b6aedff7dc896447923c7f42"
  }
}
2019-07-26 16:17:11.824 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:17:12.587 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:17:14.626 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:17:14.626 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:17:14.627 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:17:15.001 +05:30 [ERR] Failed executing DbCommand (374ms) [Parameters=[@__emailId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[CreatedBy], [x].[CreatedDate], [x].[DeletedInd], [x].[EmailAddress], [x].[FirstName], [x].[LastName], [x].[ModifiedBy], [x].[ModifiedDate], [x].[OrganizationId], [x].[StateId], [x].[TenantId], [x].[UserProfileId]
FROM [dbo].[UserProfile] AS [x]
WHERE [x].[EmailAddress] = @__emailId_0
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:17:15.004 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:17:15.015 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:17:15.173 +05:30 [FTL] Unhandled exception: Invalid object name 'dbo.UserProfile'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at Identity.Service.Data.UserRepository.GetUserProfile(String emailId) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Data\UserRepository.cs:line 20
   at Identity.Service.Services.AspNetIdentityProfileService.GetAuthenticationUserClaims(IdentityUser user) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 118
   at Identity.Service.Services.AspNetIdentityProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 71
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, Resources resources, ValidatedRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultClaimsService.cs:line 200
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultTokenService.cs:line 159
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 312
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 133
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 98
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:a81dcc65-f53c-4705-9319-07ce5dc82d26
Error Number:208,State:1,Class:16
2019-07-26 16:17:15.893 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:17:15.893 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:17:15.893 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:17:15.893 +05:30 [DBG] Start authorize request
2019-07-26 16:17:15.894 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:17:15.894 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:17:19.443 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:17:19.443 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:17:19.443 +05:30 [DBG] No PKCE used.
2019-07-26 16:17:20.128 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:17:21.924 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:17:22.665 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:17:24.355 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:17:24.355 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:17:24.355 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "c3347cf40de57da9146af74e67b831ca",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:18:17.923 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 16:18:21.747 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 16:18:21.748 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 16:18:21.749 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 16:18:21.749 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 16:18:21.749 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 16:18:21.934 +05:30 [DBG] Starting token cleanup
2019-07-26 16:18:22.311 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:18:22.332 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:18:22.332 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:18:22.345 +05:30 [DBG] Start authorize request
2019-07-26 16:18:22.376 +05:30 [DBG] No user present in authorize request
2019-07-26 16:18:22.390 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:18:27.289 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:18:27.303 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:18:27.305 +05:30 [DBG] No PKCE used.
2019-07-26 16:18:28.312 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:18:30.595 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:18:31.500 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:18:33.424 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:18:33.434 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:18:33.516 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:18:33.528 +05:30 [INF] Showing login: User is not authenticated
2019-07-26 16:18:33.649 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:18:33.664 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:18:38.543 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:18:38.543 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:18:38.543 +05:30 [DBG] No PKCE used.
2019-07-26 16:18:39.492 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:18:41.442 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:18:42.664 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:18:44.612 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:18:44.612 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:18:50.051 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:19:32.013 +05:30 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-26 16:19:33.048 +05:30 [DBG] Augmenting SignInContext
2019-07-26 16:19:33.051 +05:30 [DBG] Adding idp claim with value: local
2019-07-26 16:19:33.051 +05:30 [DBG] Adding amr claim with value: pwd
2019-07-26 16:19:33.052 +05:30 [DBG] Adding auth_time claim with value: 1564138173
2019-07-26 16:19:33.063 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-26 16:19:33.118 +05:30 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-26 16:19:33.120 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-26 16:19:33.120 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-26 16:19:33.131 +05:30 [DBG] Start authorize callback request
2019-07-26 16:19:33.135 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:19:33.136 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:19:37.093 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:19:37.093 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:19:37.093 +05:30 [DBG] No PKCE used.
2019-07-26 16:19:37.727 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:19:40.050 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:19:40.932 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:19:43.173 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:19:43.173 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:19:43.174 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "51c0989b96fdcb49c4c794d393373d81",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:19:44.153 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:19:44.162 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:19:44.168 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:19:44.533 +05:30 [DBG] YlsWT6TWzlXkOZQWBD+KcpwqkgIxEqR4lwP/KZz3d90= not found in database
2019-07-26 16:19:46.063 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:19:46.084 +05:30 [DBG] Augmenting SignInContext
2019-07-26 16:19:46.085 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-26 16:19:46.102 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:19:46.108 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:19:46.108 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:19:46.117 +05:30 [DBG] Start token request.
2019-07-26 16:19:46.126 +05:30 [DBG] Start client validation
2019-07-26 16:19:46.135 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:19:46.140 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:19:46.141 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:19:46.141 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:19:49.891 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:19:49.907 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:19:49.907 +05:30 [DBG] Client validation success
2019-07-26 16:19:49.915 +05:30 [DBG] Start token request validation
2019-07-26 16:19:49.928 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:19:50.288 +05:30 [DBG] YlsWT6TWzlXkOZQWBD+KcpwqkgIxEqR4lwP/KZz3d90= found in database: true
2019-07-26 16:19:50.833 +05:30 [DBG] removing YlsWT6TWzlXkOZQWBD+KcpwqkgIxEqR4lwP/KZz3d90= persisted grant from database
2019-07-26 16:19:52.389 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:19:52.395 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "e430ee68c3dd3d7923f9c5de8c21b52906939bda2e0b7f69605e3f405c18543a",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "e430ee68c3dd3d7923f9c5de8c21b52906939bda2e0b7f69605e3f405c18543a"
  }
}
2019-07-26 16:19:56.790 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:19:57.491 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:19:59.572 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:19:59.583 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:19:59.584 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:20:00.138 +05:30 [ERR] Failed executing DbCommand (532ms) [Parameters=[@__emailId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[CreatedBy], [x].[CreatedDate], [x].[DeletedInd], [x].[EmailAddress], [x].[FirstName], [x].[LastName], [x].[ModifiedBy], [x].[ModifiedDate], [x].[OrganizationId], [x].[StateId], [x].[TenantId], [x].[UserProfileId]
FROM [dbo].[UserProfile] AS [x]
WHERE [x].[EmailAddress] = @__emailId_0
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
2019-07-26 16:20:00.183 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
2019-07-26 16:20:00.188 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
2019-07-26 16:20:00.396 +05:30 [FTL] Unhandled exception: Invalid object name 'dbo.UserProfile'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at Identity.Service.Data.UserRepository.GetUserProfile(String emailId) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Data\UserRepository.cs:line 20
   at Identity.Service.Services.AspNetIdentityProfileService.GetAuthenticationUserClaims(IdentityUser user) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 118
   at Identity.Service.Services.AspNetIdentityProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 71
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, Resources resources, ValidatedRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultClaimsService.cs:line 200
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultTokenService.cs:line 159
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 312
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 133
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 98
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
2019-07-26 16:20:01.446 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:20:01.448 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:20:01.448 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:20:01.448 +05:30 [DBG] Start authorize request
2019-07-26 16:20:01.448 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:20:01.448 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:20:04.918 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:20:04.918 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:20:04.918 +05:30 [DBG] No PKCE used.
2019-07-26 16:20:05.582 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:20:07.488 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:20:08.418 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:20:10.063 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:20:10.063 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:20:10.063 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "51c0989b96fdcb49c4c794d393373d81",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:20:10.864 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:20:10.868 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:20:10.868 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:20:11.295 +05:30 [DBG] pgRGBBSHkpMeTDwZffAj6QWDz7tBSjf+DRsYqrlZTao= not found in database
2019-07-26 16:20:12.294 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:20:12.315 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:20:12.316 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:20:12.316 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:20:12.317 +05:30 [DBG] Start token request.
2019-07-26 16:20:12.317 +05:30 [DBG] Start client validation
2019-07-26 16:20:12.317 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:20:12.317 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:20:12.317 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:20:12.317 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:20:16.134 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:20:16.134 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:20:16.134 +05:30 [DBG] Client validation success
2019-07-26 16:20:16.135 +05:30 [DBG] Start token request validation
2019-07-26 16:20:16.135 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:20:16.751 +05:30 [DBG] pgRGBBSHkpMeTDwZffAj6QWDz7tBSjf+DRsYqrlZTao= found in database: true
2019-07-26 16:20:17.102 +05:30 [DBG] removing pgRGBBSHkpMeTDwZffAj6QWDz7tBSjf+DRsYqrlZTao= persisted grant from database
2019-07-26 16:20:18.373 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:20:18.374 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "5600c139d6c2f158d914ff3de349eb280131dbae019a8ac3ee85ca377659176c",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "5600c139d6c2f158d914ff3de349eb280131dbae019a8ac3ee85ca377659176c"
  }
}
2019-07-26 16:20:22.848 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:20:23.812 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:20:25.924 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:20:25.924 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:20:25.925 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:20:26.306 +05:30 [ERR] Failed executing DbCommand (380ms) [Parameters=[@__emailId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[CreatedBy], [x].[CreatedDate], [x].[DeletedInd], [x].[EmailAddress], [x].[FirstName], [x].[LastName], [x].[ModifiedBy], [x].[ModifiedDate], [x].[OrganizationId], [x].[StateId], [x].[TenantId], [x].[UserProfileId]
FROM [dbo].[UserProfile] AS [x]
WHERE [x].[EmailAddress] = @__emailId_0
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
2019-07-26 16:20:26.310 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
2019-07-26 16:20:26.319 +05:30 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Identity.Service.Data.ApplicationDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
2019-07-26 16:20:26.551 +05:30 [FTL] Unhandled exception: Invalid object name 'dbo.UserProfile'.
System.Data.SqlClient.SqlException (0x80131904): Invalid object name 'dbo.UserProfile'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at Identity.Service.Data.UserRepository.GetUserProfile(String emailId) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Data\UserRepository.cs:line 20
   at Identity.Service.Services.AspNetIdentityProfileService.GetAuthenticationUserClaims(IdentityUser user) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 118
   at Identity.Service.Services.AspNetIdentityProfileService.GetProfileDataAsync(ProfileDataRequestContext context) in D:\Code\MicroservicesPOC\Agility.Framework.Microservices\Services\Identity\Services\AspNetIdentityProfileService.cs:line 71
   at IdentityServer4.Services.DefaultClaimsService.GetAccessTokenClaimsAsync(ClaimsPrincipal subject, Resources resources, ValidatedRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultClaimsService.cs:line 200
   at IdentityServer4.Services.DefaultTokenService.CreateAccessTokenAsync(TokenCreationRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Services\DefaultTokenService.cs:line 159
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.CreateAccessTokenAsync(ValidatedTokenRequest request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 312
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAuthorizationCodeRequestAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 133
   at IdentityServer4.ResponseHandling.TokenResponseGenerator.ProcessAsync(TokenRequestValidationResult request) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\ResponseHandling\TokenResponseGenerator.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 98
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\IdentityServerMiddleware.cs:line 54
ClientConnectionId:b685399a-9a3b-4798-9010-d4c865730cb4
Error Number:208,State:1,Class:16
2019-07-26 16:20:27.360 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:20:27.361 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:20:27.361 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:20:27.362 +05:30 [DBG] Start authorize request
2019-07-26 16:20:27.362 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:20:27.362 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:20:31.171 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:20:31.171 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:20:31.171 +05:30 [DBG] No PKCE used.
2019-07-26 16:20:31.884 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:20:33.926 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:20:34.670 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:20:36.612 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:20:36.612 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:20:36.612 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "51c0989b96fdcb49c4c794d393373d81",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:20:37.572 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:20:37.579 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:20:37.579 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:20:38.163 +05:30 [DBG] 7GHqNdTEpLUlfU2X18CQ5BkR1FO8fUwOd9zWLKlN3Zg= not found in database
2019-07-26 16:20:39.177 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:20:39.186 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:20:39.186 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:20:39.187 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:20:39.187 +05:30 [DBG] Start token request.
2019-07-26 16:20:39.187 +05:30 [DBG] Start client validation
2019-07-26 16:20:39.187 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:20:39.187 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:20:39.187 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:20:39.187 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:20:43.013 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:20:43.013 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:20:43.013 +05:30 [DBG] Client validation success
2019-07-26 16:20:43.013 +05:30 [DBG] Start token request validation
2019-07-26 16:20:43.013 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:20:43.337 +05:30 [DBG] 7GHqNdTEpLUlfU2X18CQ5BkR1FO8fUwOd9zWLKlN3Zg= found in database: true
2019-07-26 16:20:43.661 +05:30 [DBG] removing 7GHqNdTEpLUlfU2X18CQ5BkR1FO8fUwOd9zWLKlN3Zg= persisted grant from database
2019-07-26 16:20:44.933 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:20:44.933 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "c25bfcdb6b39331fcd130c6a5434e2c67b22c09744180c2b668312649ea8bc55",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "c25bfcdb6b39331fcd130c6a5434e2c67b22c09744180c2b668312649ea8bc55"
  }
}
2019-07-26 16:23:55.314 +05:30 [WRN] Query: '(from ApplicationUser users in DbSet<ApplicationUser> select [users].Email).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-26 16:23:59.988 +05:30 [DBG] Using Identity.Application as default scheme for authentication
2019-07-26 16:23:59.989 +05:30 [DBG] Using Identity.External as default scheme for sign-in
2019-07-26 16:23:59.989 +05:30 [DBG] Using Identity.External as default scheme for sign-out
2019-07-26 16:23:59.989 +05:30 [DBG] Using Identity.Application as default scheme for challenge
2019-07-26 16:23:59.989 +05:30 [DBG] Using Identity.Application as default scheme for forbid
2019-07-26 16:24:00.240 +05:30 [DBG] Starting token cleanup
2019-07-26 16:24:11.189 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:24:11.237 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:24:11.248 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:24:11.265 +05:30 [DBG] Start authorize request
2019-07-26 16:24:11.289 +05:30 [DBG] No user present in authorize request
2019-07-26 16:24:11.311 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:24:15.762 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:24:15.774 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:24:15.777 +05:30 [DBG] No PKCE used.
2019-07-26 16:24:16.598 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:24:18.451 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:24:19.152 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:24:20.985 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:24:21.001 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:24:21.109 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:24:21.123 +05:30 [INF] Showing login: User is not authenticated
2019-07-26 16:24:21.228 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-26 16:24:21.242 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:24:25.266 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:24:25.266 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:24:25.266 +05:30 [DBG] No PKCE used.
2019-07-26 16:24:25.956 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:24:27.791 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:24:28.582 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:24:30.348 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:24:30.348 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:24:33.937 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:24:44.871 +05:30 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-26 16:24:45.446 +05:30 [DBG] Augmenting SignInContext
2019-07-26 16:24:45.449 +05:30 [DBG] Adding idp claim with value: local
2019-07-26 16:24:45.450 +05:30 [DBG] Adding amr claim with value: pwd
2019-07-26 16:24:45.450 +05:30 [DBG] Adding auth_time claim with value: 1564138485
2019-07-26 16:24:45.464 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-26 16:24:45.510 +05:30 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-26 16:24:45.513 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-26 16:24:45.513 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-26 16:24:45.523 +05:30 [DBG] Start authorize callback request
2019-07-26 16:24:45.531 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:24:45.531 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:24:49.026 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:24:49.027 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:24:49.027 +05:30 [DBG] No PKCE used.
2019-07-26 16:24:49.760 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:24:51.468 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:24:52.128 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:24:53.947 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:24:53.947 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:24:53.947 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "ed3ee86e47b44bfb7804237e0b8367c3",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:24:54.937 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:24:54.946 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:24:54.953 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:24:55.380 +05:30 [DBG] H9+wShwTZw/iju+k5rLcg6GBVKsddd/mSiOWSIvMqJA= not found in database
2019-07-26 16:24:56.359 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:24:56.381 +05:30 [DBG] Augmenting SignInContext
2019-07-26 16:24:56.382 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-26 16:24:56.395 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:24:56.399 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:24:56.399 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:24:56.407 +05:30 [DBG] Start token request.
2019-07-26 16:24:56.414 +05:30 [DBG] Start client validation
2019-07-26 16:24:56.420 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:24:56.423 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:24:56.424 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:24:56.424 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:25:00.003 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:25:00.018 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:25:00.018 +05:30 [DBG] Client validation success
2019-07-26 16:25:00.026 +05:30 [DBG] Start token request validation
2019-07-26 16:25:00.040 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:25:00.436 +05:30 [DBG] H9+wShwTZw/iju+k5rLcg6GBVKsddd/mSiOWSIvMqJA= found in database: true
2019-07-26 16:25:00.882 +05:30 [DBG] removing H9+wShwTZw/iju+k5rLcg6GBVKsddd/mSiOWSIvMqJA= persisted grant from database
2019-07-26 16:25:02.360 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:25:02.366 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "b331e1cc3e99ecf7ad1f77835da85a2c2ecf4f11c40852f6b22be717315f9d3d",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "b331e1cc3e99ecf7ad1f77835da85a2c2ecf4f11c40852f6b22be717315f9d3d"
  }
}
2019-07-26 16:25:06.267 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:25:07.127 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:25:09.070 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:25:09.081 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:25:09.082 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:25:09.479 +05:30 [DBG] Claim types from profile service that were filtered: ["sub"]
2019-07-26 16:25:13.641 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:25:14.553 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:25:16.608 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:25:16.617 +05:30 [DBG] Getting claims for identity token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302 and client: MVCClient
2019-07-26 16:25:16.617 +05:30 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-07-26 16:25:16.621 +05:30 [DBG] Token request success.
2019-07-26 16:25:16.634 +05:30 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-07-26 16:25:16.636 +05:30 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-07-26 16:25:16.636 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-07-26 16:25:16.644 +05:30 [DBG] Start userinfo request
2019-07-26 16:25:16.648 +05:30 [DBG] Bearer token found in header
2019-07-26 16:25:20.372 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:25:23.801 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:25:24.285 +05:30 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-07-26 16:25:24.289 +05:30 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1564138509,
    "exp": 1564142109,
    "iss": "http://localhost:8000",
    "aud": [
      "http://localhost:8000/resources",
      "apiclient"
    ],
    "client_id": "MVCClient",
    "sub": "11a61418-4274-4ba0-8402-5bb00ee3e302",
    "auth_time": 1564138485,
    "idp": "local",
    "preferred_username": "framework@agility.com",
    "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name": "framework@agility.com",
    "name": "framework@agility.com",
    "session_id": "aa79da43-ed74-4b5f-8689-f621dd218b25",
    "email_id": "jashokan@agility.com",
    "FirstName": "Jeya Prakash",
    "LastName": "Ashokan",
    "OrganizationId": "1",
    "TenantId": "1",
    "UserId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
    "scope": [
      "openid",
      "profile",
      "apiClient"
    ],
    "amr": "pwd"
  }
}
2019-07-26 16:25:24.301 +05:30 [DBG] Creating userinfo response
2019-07-26 16:25:24.305 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:25:24.308 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:25:25.068 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:25:25.069 +05:30 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-07-26 16:25:25.069 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:25:25.942 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:25:26.311 +05:30 [INF] Profile service returned to the following claim types: sub preferred_username http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name name session_id email_id FirstName LastName OrganizationId TenantId UserId
2019-07-26 16:25:26.312 +05:30 [DBG] End userinfo request
2019-07-26 16:26:56.450 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:26:56.451 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:26:56.451 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:26:56.451 +05:30 [DBG] Start authorize request
2019-07-26 16:26:56.451 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:26:56.451 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:27:00.441 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:27:00.441 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:27:00.441 +05:30 [DBG] No PKCE used.
2019-07-26 16:27:01.392 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:27:03.082 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:27:03.750 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:27:05.584 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:27:05.585 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:27:05.585 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "ed3ee86e47b44bfb7804237e0b8367c3",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:27:06.223 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:27:06.230 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:27:06.230 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:27:06.822 +05:30 [DBG] KShzD+VtC2WVkvMMI2LU1cMgedMYbr5DdtRglrqBRTg= not found in database
2019-07-26 16:27:08.002 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:27:13.778 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:27:13.779 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:27:13.779 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:27:13.779 +05:30 [DBG] Start token request.
2019-07-26 16:27:13.780 +05:30 [DBG] Start client validation
2019-07-26 16:27:13.780 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:27:13.780 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:27:13.781 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:27:13.781 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:27:17.673 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:27:17.673 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:27:17.673 +05:30 [DBG] Client validation success
2019-07-26 16:27:17.673 +05:30 [DBG] Start token request validation
2019-07-26 16:27:17.673 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:27:18.030 +05:30 [DBG] KShzD+VtC2WVkvMMI2LU1cMgedMYbr5DdtRglrqBRTg= found in database: true
2019-07-26 16:27:18.364 +05:30 [DBG] removing KShzD+VtC2WVkvMMI2LU1cMgedMYbr5DdtRglrqBRTg= persisted grant from database
2019-07-26 16:27:19.629 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:27:19.630 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "3d8f538ef53bec2f87c354f61a91150122f9e839aec2cd1704f44aec452d3a0c",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "3d8f538ef53bec2f87c354f61a91150122f9e839aec2cd1704f44aec452d3a0c"
  }
}
2019-07-26 16:27:23.412 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:27:24.123 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:27:26.060 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:27:26.061 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:27:26.061 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:27:26.413 +05:30 [DBG] Claim types from profile service that were filtered: ["sub"]
2019-07-26 16:27:30.372 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:27:31.058 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:27:32.901 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:27:32.901 +05:30 [DBG] Getting claims for identity token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302 and client: MVCClient
2019-07-26 16:27:32.901 +05:30 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-07-26 16:27:32.901 +05:30 [DBG] Token request success.
2019-07-26 16:27:39.564 +05:30 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-07-26 16:27:39.565 +05:30 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-07-26 16:27:39.565 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-07-26 16:27:39.565 +05:30 [DBG] Start userinfo request
2019-07-26 16:27:39.565 +05:30 [DBG] Bearer token found in header
2019-07-26 16:27:42.996 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:27:46.508 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:27:46.831 +05:30 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-07-26 16:27:46.832 +05:30 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1564138646,
    "exp": 1564142246,
    "iss": "http://localhost:8000",
    "aud": [
      "http://localhost:8000/resources",
      "apiclient"
    ],
    "client_id": "MVCClient",
    "sub": "11a61418-4274-4ba0-8402-5bb00ee3e302",
    "auth_time": 1564138485,
    "idp": "local",
    "preferred_username": "framework@agility.com",
    "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name": "framework@agility.com",
    "name": "framework@agility.com",
    "session_id": "aeff95a2-35b3-404f-b154-64a04f234ff8",
    "email_id": "jashokan@agility.com",
    "FirstName": "Jeya Prakash",
    "LastName": "Ashokan",
    "OrganizationId": "1",
    "TenantId": "1",
    "UserId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
    "scope": [
      "openid",
      "profile",
      "apiClient"
    ],
    "amr": "pwd"
  }
}
2019-07-26 16:27:46.832 +05:30 [DBG] Creating userinfo response
2019-07-26 16:27:46.832 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:27:46.833 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:27:47.504 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:27:47.504 +05:30 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-07-26 16:27:47.504 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:27:48.230 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:27:48.562 +05:30 [INF] Profile service returned to the following claim types: sub preferred_username http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name name session_id email_id FirstName LastName OrganizationId TenantId UserId
2019-07-26 16:27:48.562 +05:30 [DBG] End userinfo request
2019-07-26 16:31:48.257 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:31:48.259 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:31:48.259 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:31:48.260 +05:30 [DBG] Start authorize request
2019-07-26 16:31:48.260 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:31:48.260 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:31:52.272 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:31:52.272 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:31:52.272 +05:30 [DBG] No PKCE used.
2019-07-26 16:31:53.039 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:31:54.834 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:31:55.472 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:31:57.611 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:31:57.611 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:31:57.611 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "ed3ee86e47b44bfb7804237e0b8367c3",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:31:58.325 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:31:58.330 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:31:58.330 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:31:58.794 +05:30 [DBG] +2y/Pg5fAvoCNrNXJlUBNQArj36y94fY+R180ZfA5xQ= not found in database
2019-07-26 16:31:59.748 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:31:59.791 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:31:59.792 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:31:59.792 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:31:59.792 +05:30 [DBG] Start token request.
2019-07-26 16:31:59.792 +05:30 [DBG] Start client validation
2019-07-26 16:31:59.792 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:31:59.792 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:31:59.793 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:31:59.793 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:32:03.452 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:32:03.452 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:32:03.452 +05:30 [DBG] Client validation success
2019-07-26 16:32:03.452 +05:30 [DBG] Start token request validation
2019-07-26 16:32:03.452 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:32:03.791 +05:30 [DBG] +2y/Pg5fAvoCNrNXJlUBNQArj36y94fY+R180ZfA5xQ= found in database: true
2019-07-26 16:32:04.124 +05:30 [DBG] removing +2y/Pg5fAvoCNrNXJlUBNQArj36y94fY+R180ZfA5xQ= persisted grant from database
2019-07-26 16:32:05.379 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:32:05.379 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "d592fc44ce832b7c8492fa231b01decd6e2bc9afd1755d50a32c37383a2f3dc1",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "d592fc44ce832b7c8492fa231b01decd6e2bc9afd1755d50a32c37383a2f3dc1"
  }
}
2019-07-26 16:32:09.300 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:32:10.064 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:32:12.024 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:32:12.024 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:32:12.025 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:32:12.429 +05:30 [DBG] Claim types from profile service that were filtered: ["sub"]
2019-07-26 16:32:16.273 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:32:17.182 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:32:19.072 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:32:19.073 +05:30 [DBG] Getting claims for identity token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302 and client: MVCClient
2019-07-26 16:32:19.073 +05:30 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-07-26 16:32:19.073 +05:30 [DBG] Token request success.
2019-07-26 16:32:19.123 +05:30 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-07-26 16:32:19.170 +05:30 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-07-26 16:32:19.170 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-07-26 16:32:19.170 +05:30 [DBG] Start userinfo request
2019-07-26 16:32:19.170 +05:30 [DBG] Bearer token found in header
2019-07-26 16:32:22.862 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:32:26.510 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:32:26.831 +05:30 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-07-26 16:32:26.832 +05:30 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1564138932,
    "exp": 1564142532,
    "iss": "http://localhost:8000",
    "aud": [
      "http://localhost:8000/resources",
      "apiclient"
    ],
    "client_id": "MVCClient",
    "sub": "11a61418-4274-4ba0-8402-5bb00ee3e302",
    "auth_time": 1564138485,
    "idp": "local",
    "preferred_username": "framework@agility.com",
    "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name": "framework@agility.com",
    "name": "framework@agility.com",
    "session_id": "d0b9bfa7-f254-471e-bb3b-2bf8e334fdef",
    "email_id": "jashokan@agility.com",
    "FirstName": "Jeya Prakash",
    "LastName": "Ashokan",
    "OrganizationId": "1",
    "TenantId": "1",
    "UserId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
    "scope": [
      "openid",
      "profile",
      "apiClient"
    ],
    "amr": "pwd"
  }
}
2019-07-26 16:32:26.832 +05:30 [DBG] Creating userinfo response
2019-07-26 16:32:26.832 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:32:26.832 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:32:27.646 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:32:27.646 +05:30 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-07-26 16:32:27.646 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:32:28.429 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:32:28.750 +05:30 [INF] Profile service returned to the following claim types: sub preferred_username http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name name session_id email_id FirstName LastName OrganizationId TenantId UserId
2019-07-26 16:32:28.750 +05:30 [DBG] End userinfo request
2019-07-26 16:34:15.656 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-26 16:34:15.658 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-26 16:34:15.658 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-26 16:34:15.658 +05:30 [DBG] Start authorize request
2019-07-26 16:34:15.658 +05:30 [DBG] User in authorize request: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:34:15.658 +05:30 [DBG] Start authorize request protocol validation
2019-07-26 16:34:19.311 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:34:19.312 +05:30 [DBG] Checking for PKCE parameters
2019-07-26 16:34:19.312 +05:30 [DBG] No PKCE used.
2019-07-26 16:34:20.112 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:34:22.046 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:34:22.989 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:34:25.234 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:34:25.234 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-26 16:34:25.235 +05:30 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "AllowedRedirectUris": [
    "http://localhost:57100/account/login",
    "http://10.0.75.1:57100/account/login",
    "http://13.68.98.137/account/login",
    "http://localhost/fxvanilla50/login.aspx"
  ],
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ResponseType": "code",
  "ResponseMode": "query",
  "GrantType": "authorization_code",
  "RequestedScopes": "openid profile apiClient",
  "SessionId": "ed3ee86e47b44bfb7804237e0b8367c3",
  "Raw": {
    "client_id": "MVCClient",
    "scope": "openid profile apiClient",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "response_type": "code"
  }
}
2019-07-26 16:34:26.193 +05:30 [DBG] 3LuajznxHzbJs6SY6sm5ej6GHXJX59UqkoERrlHHsgw= found in database: true
2019-07-26 16:34:26.198 +05:30 [DBG] Consent found in consent store is same as current request, consent is not required
2019-07-26 16:34:26.198 +05:30 [DBG] Creating Authorization Code Flow response.
2019-07-26 16:34:26.553 +05:30 [DBG] gftKWZcuZFpUgU0XVDbrRwvem/KM/RrReVVzeY3t9/M= not found in database
2019-07-26 16:34:27.474 +05:30 [INF] Authorize endpoint response
{
  "SubjectId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
  "ClientId": "MVCClient",
  "RedirectUri": "http://localhost/FXVAnilla50/Login.aspx",
  "Scope": "openid profile apiClient"
}
2019-07-26 16:34:27.495 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-26 16:34:27.497 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-26 16:34:27.497 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-26 16:34:27.497 +05:30 [DBG] Start token request.
2019-07-26 16:34:27.497 +05:30 [DBG] Start client validation
2019-07-26 16:34:27.497 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-26 16:34:27.497 +05:30 [DBG] Start parsing for secret in post body
2019-07-26 16:34:27.497 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-26 16:34:27.498 +05:30 [DBG] Secret id found: MVCClient
2019-07-26 16:34:31.953 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:34:31.954 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-26 16:34:31.954 +05:30 [DBG] Client validation success
2019-07-26 16:34:31.954 +05:30 [DBG] Start token request validation
2019-07-26 16:34:31.954 +05:30 [DBG] Start validation of authorization code token request
2019-07-26 16:34:32.274 +05:30 [DBG] gftKWZcuZFpUgU0XVDbrRwvem/KM/RrReVVzeY3t9/M= found in database: true
2019-07-26 16:34:32.608 +05:30 [DBG] removing gftKWZcuZFpUgU0XVDbrRwvem/KM/RrReVVzeY3t9/M= persisted grant from database
2019-07-26 16:34:34.833 +05:30 [DBG] Validation of authorization code token request success
2019-07-26 16:34:34.833 +05:30 [INF] Token request validation success
{
  "ClientId": "MVCClient",
  "ClientName": "MVC Client",
  "GrantType": "authorization_code",
  "AuthorizationCode": "43128e705782ab1e280dc42e5be08ce085d45870c3263350f51a9ac9288abbed",
  "Raw": {
    "client_id": "MVCClient",
    "client_secret": "***REDACTED***",
    "redirect_uri": "http://localhost/FXVAnilla50/Login.aspx",
    "grant_type": "authorization_code",
    "code": "43128e705782ab1e280dc42e5be08ce085d45870c3263350f51a9ac9288abbed"
  }
}
2019-07-26 16:34:40.590 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:34:41.564 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:34:44.262 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:34:44.262 +05:30 [DBG] Getting claims for access token for client: MVCClient
2019-07-26 16:34:44.262 +05:30 [DBG] Getting claims for access token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302
2019-07-26 16:34:44.601 +05:30 [DBG] Claim types from profile service that were filtered: ["sub"]
2019-07-26 16:34:48.746 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:34:49.544 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:34:51.204 +05:30 [DBG] Found ["apiClient"] API scopes in database
2019-07-26 16:34:51.204 +05:30 [DBG] Getting claims for identity token for subject: 11a61418-4274-4ba0-8402-5bb00ee3e302 and client: MVCClient
2019-07-26 16:34:51.204 +05:30 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-07-26 16:34:51.204 +05:30 [DBG] Token request success.
2019-07-26 16:34:51.222 +05:30 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-07-26 16:34:51.222 +05:30 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-07-26 16:34:51.223 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-07-26 16:34:51.223 +05:30 [DBG] Start userinfo request
2019-07-26 16:34:51.223 +05:30 [DBG] Bearer token found in header
2019-07-26 16:34:54.344 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:34:57.809 +05:30 [DBG] MVCClient found in database: true
2019-07-26 16:34:58.120 +05:30 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-07-26 16:34:58.120 +05:30 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1564139084,
    "exp": 1564142684,
    "iss": "http://localhost:8000",
    "aud": [
      "http://localhost:8000/resources",
      "apiclient"
    ],
    "client_id": "MVCClient",
    "sub": "11a61418-4274-4ba0-8402-5bb00ee3e302",
    "auth_time": 1564138485,
    "idp": "local",
    "preferred_username": "framework@agility.com",
    "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name": "framework@agility.com",
    "name": "framework@agility.com",
    "session_id": "8831c2d5-7c16-4ed2-8a2e-7eca83c6cc6f",
    "email_id": "jashokan@agility.com",
    "FirstName": "Jeya Prakash",
    "LastName": "Ashokan",
    "OrganizationId": "1",
    "TenantId": "1",
    "UserId": "11a61418-4274-4ba0-8402-5bb00ee3e302",
    "scope": [
      "openid",
      "profile",
      "apiClient"
    ],
    "amr": "pwd"
  }
}
2019-07-26 16:34:58.121 +05:30 [DBG] Creating userinfo response
2019-07-26 16:34:58.121 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:34:58.121 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:34:58.825 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:34:58.825 +05:30 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2019-07-26 16:34:58.825 +05:30 [DBG] Scopes in access token: openid profile apiClient
2019-07-26 16:34:59.480 +05:30 [DBG] Found ["openid","profile"] identity scopes in database
2019-07-26 16:34:59.910 +05:30 [INF] Profile service returned to the following claim types: sub preferred_username http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name name session_id email_id FirstName LastName OrganizationId TenantId UserId
2019-07-26 16:34:59.910 +05:30 [DBG] End userinfo request
